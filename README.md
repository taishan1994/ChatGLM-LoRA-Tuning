# ChatGLM-LoRA-Tuning
ä½¿ç”¨LoRAå¯¹ChatGLMè¿›è¡Œå¾®è°ƒã€‚æ•´ä½“çš„ç»“æ„éå¸¸ç®€å•ï¼Œæ„é€ å¥½ç›¸åº”æ ¼å¼çš„æ•°æ®åå°±å¯ä»¥å¼€å§‹è®­ç»ƒã€‚

ChatGLM-6Bä¸‹è½½åœ°å€ï¼š[æ¸…åå¤§å­¦äº‘ç›˜ (tsinghua.edu.cn)](https://cloud.tsinghua.edu.cn/d/fb9f16d6dc8f482596c2/) ã€‚

è®­ç»ƒå¥½çš„å®ä½“è¯†åˆ«LoRAæƒé‡å·²ç»ä½äºcheckpointä¸‹ã€‚

# ä¾èµ–

linuxæ“ä½œç³»ç»Ÿä¸ºUbantuï¼ŒGPUä¸ºA40-48Gæ˜¾å­˜ã€‚

```python
mpi4py
transformers==4.28.1
peft==0.3.0
icetk
deepspeed==0.9.2
accelerate
cpm_kernels
sentencepiece==0.1.99
peft=0.3.0
torch=2.0.0 
```

# è¯´æ˜

## ç›®å½•ç»“æ„

```python
--checkpointï¼šä¿å­˜æ¨¡å‹
----msraï¼šæ•°æ®é›†åç§°
--------train_deepspeed
------------adapter_model
----------------adapter_config.json
----------------adapter_model.bin
----------------train_args.json
--------train_trainer
------------adapter_model
----------------adapter_config.json
----------------adapter_model.bin
----------------train_args.json
--model_hubï¼šé¢„è®­ç»ƒæ¨¡å‹
----chatglm-6bï¼šé¢„è®­ç»ƒæ¨¡å‹ä½ç½®
--dataï¼šæ•°æ®
----msraï¼šæ•°æ®é›†åç§°
--------instruct_dataï¼šæŒ‡ä»¤æ•°æ®
------------dev.txt
------------train.txt
--------ori_dataï¼šåŸå§‹æ•°æ®
--chat_ner.pyï¼šé—²èŠ
--train_deepspeed.pyï¼šä½¿ç”¨åŸç”Ÿdeepspeedè®­ç»ƒ
--train_trainer.pyï¼š ä½¿ç”¨transformersçš„Trainerè¿›è¡Œè®­ç»ƒ
--test.pyï¼šæµ‹è¯•è®­ç»ƒå¥½çš„æ¨¡å‹
--predict.pyï¼šé¢„æµ‹
--test_chatglm_6b.pyï¼šæµ‹è¯•åŸå§‹çš„chatglm-6b
--process.pyï¼šå¤„ç†æ•°æ®ä¸ºinstruct_data
--dataset.pyï¼šåŠ è½½æ•°æ®ä¸ºç›¸åº”çš„æ ¼å¼
--deepspeed.jsonï¼šdeepspeedé…ç½®æ–‡ä»¶ï¼Œç”¨äºtrasnformersçš„Trainer
--config_utils.pyï¼šç”¨äºç”¨å­—å…¸å®šä¹‰é…ç½®ï¼Œå¹¶æ¥æ”¶å‘½ä»¤è¡Œå‚æ•°
```

chatglm-6bä¸‹é¢æ•°æ®æ˜¯è¿™æ ·ï¼Œé™¤æƒé‡å¤–å·²ç»æ”¾åœ¨model_hub/chatglm-6bä¸‹ï¼š

![image-20230522155655621](README.assets/image-20230522155655621.png)

## æ•°æ®æ ¼å¼

è¿™é‡Œæˆ‘ä»¬ä»¥å‘½åå®ä½“è¯†åˆ«ä»»åŠ¡ä¸ºä¾‹ï¼Œæ•°æ®åœ¨data/msraä¸‹ï¼Œå…¶ä¸­ori_dataä¸ºåŸå§‹æ•°æ®,instruct_dataä¸ºå¤„ç†åçš„æ•°æ®ï¼Œæ•°æ®æ ¼å¼ä¸ºä¸€æ¡ä¸€ä¸ªæ ·æœ¬ï¼Œå…·ä½“æ˜¯ï¼š

```python
{"instruct": "ä½ ç°åœ¨æ˜¯ä¸€ä¸ªå®ä½“è¯†åˆ«æ¨¡å‹ï¼Œä½ éœ€è¦æå–æ–‡æœ¬é‡Œé¢çš„äººåã€åœ°åã€æœºæ„åï¼Œå¦‚æœå­˜åœ¨ç»“æœï¼Œè¿”å›'å®ä½“_å®ä½“ç±»å‹'ï¼Œä¸åŒå®ä½“é—´ç”¨\nåˆ†éš”ã€‚å¦‚æœæ²¡æœ‰ç»“æœï¼Œå›ç­”'æ²¡æœ‰'ã€‚", "query": "æ–‡æœ¬ï¼šå› æœ‰å…³æ—¥å¯‡åœ¨äº¬æ å¤ºæ–‡ç‰©è¯¦æƒ…ï¼Œè—ç•Œè¾ƒä¸ºé‡è§†ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ”¶è—åŒ—äº¬å²æ–™ä¸­çš„è¦ä»¶ä¹‹ä¸€ã€‚", "answer": "æ—¥_åœ°å\näº¬_åœ°å\nåŒ—äº¬_åœ°å"}
```

å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä»»åŠ¡è‡ªè¡Œæ„å»ºã€‚

## ä¸€èˆ¬è¿‡ç¨‹

1ã€dataä¸‹æ–°å»ºæ•°æ®é›†ï¼Œç”¨process.pyå¤„ç†æ•°æ®ä¸ºinstruct_dataä¸‹çš„æ•°æ®ã€‚

2ã€è¿™é‡Œä½¿ç”¨train_trainer.pyè¿›è¡Œè®­ç»ƒï¼Œä¸ºäº†èƒ½å¤Ÿè®©transformersçš„Traineråœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä¿å­˜loraæƒé‡ï¼Œå¯¹Trainerè¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œå‚è€ƒï¼šhttps://github.com/huggingface/peft/issues/96 ã€‚å› ä¸ºæœ‰äº†config_utils.pyï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­—å…¸é‡Œé¢å®šä¹‰ç›¸å…³å‚æ•°ï¼Œç„¶åå¯ä»¥åœ¨å‘½ä»¤è¡Œä¿®æ”¹æ¡‰æ ‘çš„å€¼ï¼ˆåµŒå¥—å‚æ•°ä¹‹é—´ç”¨_åˆ†éš”ï¼‰ã€‚

```python
args = {
    "data_name": "msra",  # æ•°æ®é›†åç§°
    "model_dir": "/root/autodl-tmp/chatglm-6b/",  # chatglm-6båœ°å€ï¼Œä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„
    "lora_r": 8,  # loraå‚æ•°
    "max_source_length": 128,  # instruct+queryçš„æœ€å¤§é•¿åº¦
    "max_target_length": 32,  # answerçš„æœ€å¤§é•¿åº¦
    "instruct_column": "instruct",  # instructåˆ—å
    "query_column": "query",  # queryåˆ—å
    "response_column": "answer",  # answeråˆ—å
    "train_path": "data/msra/instruct_data/train.txt", # è®­ç»ƒæ•°æ®ï¼Œä¿®æ”¹ä¸ºè‡ªå·±æ•°æ®
    "dev_path": "data/msra/instruct_data/dev.txt",  # æµ‹è¯•æ•°æ®ï¼Œä¿®æ”¹ä¸ºè‡ªå·±æ•°æ®
    "ignore_pad_token_for_loss": True,  # é»˜è®¤å°±å¥½
    "train_batch_size": 12,  # è®­ç»ƒbatch_size
    "gradient_accumulation_steps": 1,  # é»˜è®¤å°±å¥½
    "save_dir": "/root/autodl-tmp/msra_trainer/",  # ä¿å­˜æ¨¡å‹ä½ç½®ï¼Œä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„
    "num_train_epochs": 1,  # è®­ç»ƒepoch
    "local_rank": -1,  # deepspeedæ‰€éœ€ï¼Œé»˜è®¤å°±å¥½
    "log_steps": 10,  # å¤šå°‘æ­¥æ‰“å°ä¸€æ¬¡ç»“æœ
    "save_steps": 50,  # å¤šå°‘æ­¥ä¿å­˜ä¸€æ¬¡æ¨¡å‹
    "deepspeed_json_path": "deepspeed.json" # deepspeedé…ç½®
}
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒTrainerä¸­ä½¿ç”¨deepspeedè¦ä¿æŒdeepspeedå®šä¹‰çš„å‚æ•°å’ŒTraineré‡Œé¢å‚æ•°ä¿æŒä¸€è‡´ï¼Œæ¯”å¦‚ï¼šdeepspeed.jsonï¼š

```python
{
  "train_micro_batch_size_per_gpu": 12,
  "optimizer": {
    "type": "Adam",
    "params": {
      "lr": 1e-05,
      "betas": [
        0.9,
        0.95
      ],
      "eps": 1e-08,
      "weight_decay": 0.0005
    }
  },
  "fp16": {
    "enabled": true
  },
  "zero_optimization": {
    "stage": 1,
    "offload_optimizer": {
      "device": "cpu",
      "pin_memory": true
    },
    "allgather_partitions": true,
    "allgather_bucket_size": 200000000.0,
    "overlap_comm": true,
    "reduce_scatter": true,
    "reduce_bucket_size": 200000000.0,
    "contiguous_gradients": true
  }
}
```

- train_micro_batch_size_per_gpuå’Œper_device_train_batch_size
- lrå’Œlearning_rate
- betasé‡Œé¢å’Œadam_beta1ã€adam_beta2
- weight_decayå’Œweight_decay
- fp16å’Œfp16

é»˜è®¤çš„è¯ä¸ç”¨ä¿®æ”¹è¿™äº›ã€‚

## è®­ç»ƒ

```python
deeepspeed train_deepspeed.py æˆ–è€… deepspeed train_trainer.py
```

## æµ‹è¯•

ä¿®æ”¹data_nameï¼Œè¿è¡Œï¼š`python test.py`

```python
é¢„æµ‹ï¼š ['è¶Šç§€é…’å®¶_æœºæ„å', 'æº¥æ°_äººå', 'æ_ä¸»_äººå', 'åŒ—äº¬_åœ°å\næ•…å®«_åœ°å\nå†åš_åœ°å\nå¤ç ”æ‰€_åœ°åå\nåŒ—å¤§æ¸…åå›¾ä¹¦é¦†_åœ°å\nåŒ—å›¾_', 'å…ƒ_åœ°å', 'è¥¿å®‰æ—§è´§äº¤æ˜“ä¸­å¿ƒ_åœ°å', 'é•¿å®‰_åœ°å', 'å¼ è£•å¹²æœºæ„å\nåŒ—äº¬_åœ°å\nç¦å»º_åœ°å\nå±±ä¸œ_åœ°å', 'ä¸­å›½ä¸­å›½ç¦åˆ©ä¼šå„¿ç«¥è‰ºæœ¯å‰§é™¢_æœºæ„å', 'è¥¿æ¬§_åœ°å', 'å›½åŠ¡é™¢_æœºæ„å\nå¹¿_åœ³)_åœ°å', 'è¥¿ç­ç‰™_åœ°å\nCASHæ—§è´§è¿é”å•†åº—_æœºæ„\næ¾³å¤§åˆ©äºš_åœ°å', 'ç‹å­¦å¼º_äººå\næ¢è¿èµ·_äººå', '_åœ°å\né¡ºå”æ‘_åœ°å\nç‹å­¦å¼º_äººå\nä¿å®šç‰å…°é¦™å¨å¸ˆæŠ€æœ¯å­¦æ ¡_æœºæ„å\nä¿å®š_åœ°å', 'æ—¥æœ¬_åœ°å\nçŸ³å·ä¸€æˆ_äººå\nå®é¡¶å¤§ä½›æ¹¾_åœ°å\nä¸­åæ°‘æ—_åœ°å', 'ç‹å­¦å¼º_äººå\næ¢è¿__äººå', 'éƒ‘å·_åœ°å\nè¶Šç§€_äººå', 'çºªå¿µé¦†å±±å¿_åœ°å\nè¥¿æŸå¡_åœ°å', 'æ¢è¿èµ·_äººå\nç‹å­¦å¼º_äººå\nä¸‹å”æ‘_åœ°å', 'ç‰å³°_åœ°å\né‡åº†_åœ°å']

çœŸå®ï¼š ['è¶Šç§€é…’å®¶_æœºæ„å', 'æº¥æ°_äººå', 'æåä¸»_äººå', 'åŒ—äº¬_åœ°å\næ•…å®«_åœ°å\nå†åš_åœ°å\nå¤ç ”æ‰€_æœºæ„å\nåŒ—å¤§æ¸…åå›¾ä¹¦é¦†_åœ°å\nåŒ—å›¾_åœ°å', 'å²­å—_åœ°å', 'è¥¿å®‰æ—§è´§äº¤æ˜“ä¸­å¿ƒ_åœ°å', 'é•¿å®‰_åœ°å', 'å¼ è£•_æœºæ„å\nåŒ—äº¬_åœ°å\nç¦å»º_åœ°å\nå±±ä¸œ_åœ°å', 'ä¸Šæµ·ä¸­å›½ç¦åˆ©ä¼šå„¿ç«¥è‰ºæœ¯å‰§é™¢_æœºæ„å', 'è¥¿æ¬§_åœ°å', 'å›½åŠ¡é™¢_æœºæ„å\næ·±(åœ³)_åœ°å', 'è¥¿ç­ç‰™_åœ°å\nCASHæ—§è´§è¿é”å•†åº—_åœ°å\næ¾³å¤§åˆ©äºš_åœ°å', 'ç‹å­¦å¼º_äººå\næ¢è¿èµ·_äººå', 'æ²³åŒ—_åœ°å\nä¸‹å”æ‘_åœ°å\nç‹å­¦å¼º_äººå\nä¿å®šç‰å…°é¦™å¨å¸ˆæŠ€æœ¯å­¦æ ¡_æœºæ„å\nä¿å®š_åœ°å', 'æ—¥æœ¬_åœ°å\nçŸ³å·ä¸€æˆ_äººå\nå®é¡¶å¤§ä½›æ¹¾_åœ°å\nä¸­å_åœ°å', 'ç‹å­¦å¼º_äººå\næ¢è¿èµ·_äººå', 'éƒ‘å·_åœ°å\nè¶Šç§€_æœºæ„å', 'å¹³å±±å¿_åœ°å\nè¥¿æŸå¡_åœ°å', 'æ¢è¿èµ·_äººå\nç‹å­¦å¼º_äººå\nä¸‹å”æ‘_åœ°å', 'ç‰å³°_åœ°å\né‡åº†_åœ°å']
```

## é¢„æµ‹

ä¿®æ”¹data_nameï¼Œè¿è¡Œï¼š`python predict.py`

```python
æ–‡æœ¬ >>>  "ä½ ç°åœ¨æ˜¯ä¸€ä¸ªå®ä½“è¯†åˆ«æ¨¡å‹ï¼Œä½ éœ€è¦æå–æ–‡æœ¬é‡Œé¢çš„äººåã€åœ°åã€æœºæ„åï¼Œå¦‚æœå­˜åœ¨ç»“æœï¼Œè¿”å›'å®ä½“_å®ä½“ç±»å‹'ï¼Œä¸åŒå®ä½“é—´ç”¨\nåˆ†éš”ã€‚å¦‚æœæ²¡æœ‰ç»“æœï¼Œå›ç­”'æ²¡æœ‰'ã€‚æ–‡æœ¬ï¼šæˆ‘ä»¬æ˜¯å—åˆ°éƒ‘æŒ¯é“å…ˆç”Ÿã€é˜¿è‹±å…ˆç”Ÿè‘—ä½œçš„å¯ç¤ºï¼Œä»ä¸ªäººæ¡ä»¶å‡ºå‘ï¼Œç„å‡†ç°ä»£å‡ºç‰ˆå²ç ”ç©¶çš„ç©ºç™½ï¼Œé‡ç‚¹é›†è—è§£æ”¾åŒºã€å›½æ°‘å…šæ¯ç¦å‡ºç‰ˆç‰©ã€‚"
é¢„æµ‹ >>>  "éƒ‘æŒ¯é“_äººå\né˜¿è‹±_äººå\nå›½æ°‘å…š_æœºæ„å"
çœŸå® >>>  "éƒ‘æŒ¯é“_äººå\né˜¿è‹±_äººå\nå›½æ°‘å…š_æœºæ„å"
æ–‡æœ¬ >>>  "ä½ ç°åœ¨æ˜¯ä¸€ä¸ªå®ä½“è¯†åˆ«æ¨¡å‹ï¼Œä½ éœ€è¦æå–æ–‡æœ¬é‡Œé¢çš„äººåã€åœ°åã€æœºæ„åï¼Œå¦‚æœå­˜åœ¨ç»“æœï¼Œè¿”å›'å®ä½“_å®ä½“ç±»å‹'ï¼Œä¸åŒå®ä½“é—´ç”¨\nåˆ†éš”ã€‚å¦‚æœæ²¡æœ‰ç»“æœï¼Œå›ç­”'æ²¡æœ‰'ã€‚æ–‡æœ¬ï¼šå»å¹´ï¼Œæˆ‘ä»¬åˆè¢«è¯„ä¸ºâ€œåŒ—äº¬å¸‚é¦–å±Šå®¶åº­è—ä¹¦çŠ¶å…ƒæ˜æ˜Ÿæˆ·â€ã€‚"
é¢„æµ‹ >>>  "åŒ—äº¬å¸‚_åœ°å"
çœŸå® >>>  "åŒ—äº¬å¸‚_åœ°å"
æ–‡æœ¬ >>>  "ä½ ç°åœ¨æ˜¯ä¸€ä¸ªå®ä½“è¯†åˆ«æ¨¡å‹ï¼Œä½ éœ€è¦æå–æ–‡æœ¬é‡Œé¢çš„äººåã€åœ°åã€æœºæ„åï¼Œå¦‚æœå­˜åœ¨ç»“æœï¼Œè¿”å›'å®ä½“_å®ä½“ç±»å‹'ï¼Œä¸åŒå®ä½“é—´ç”¨\nåˆ†éš”ã€‚å¦‚æœæ²¡æœ‰ç»“æœï¼Œå›ç­”'æ²¡æœ‰'ã€‚æ–‡æœ¬ï¼šè—ä¹¦å®¶ã€ä½œå®¶å§œå¾·æ˜å…ˆç”Ÿåœ¨1997å¹´å‡ºç‰ˆçš„ä¹¦è¯ä¸“é›†ã€Šæ–‡æ—æå¶ã€‹ä¸­ä»¥â€œçˆ±ä¹¦çš„æœ‹å‹â€ä¸ºé¢˜ï¼Œè¯¦ç»†ä»‹ç»äº†æˆ‘ä»¬å¤«å¦‡çš„è—å“åŠä¸‰å£ä¹‹å®¶ä»¥ä¹¦ä¸ºå‹ã€å¥½ä¹æ¸…è´«çš„é€¸é—»è¶£äº‹ã€‚"
é¢„æµ‹ >>>  "å§œå¾·æ˜_äººå"
çœŸå® >>>  "å§œå¾·æ˜_äººå"
```

## é—²èŠ

ä¿®æ”¹data_nameï¼Œè¿è¡Œï¼š`python chat_ner.py`

````python
ç”¨æˆ· >>> ä½ ç°åœ¨æ˜¯ä¸€ä¸ªå®ä½“è¯†åˆ«æ¨¡å‹ï¼Œä½ éœ€è¦æå–æ–‡æœ¬é‡Œé¢çš„äººåã€åœ°åã€æœºæ„åï¼Œå¦‚æœå­˜åœ¨ç»“æœï¼Œè¿”å›'å®ä½“_å®ä½“ç±»å‹'ï¼Œä¸åŒå®ä½“é—´ç”¨\nåˆ†éš”ã€‚å¦‚æœæ²¡æœ‰ç»“æœï¼Œå›ç­”'æ²¡æœ‰'ã€‚æ–‡æœ¬ï¼šæˆ‘ä»¬æ˜¯å—åˆ°éƒ‘æŒ¯é“å…ˆç”Ÿã€é˜¿è‹±å…ˆç”Ÿè‘—ä½œçš„å¯ç¤ºï¼Œä»ä¸ªäººæ¡ä»¶å‡ºå‘ï¼Œç„å‡†ç°ä»£å‡ºç‰ˆå²ç ”ç©¶çš„ç©ºç™½ï¼Œé‡ç‚¹é›†è—è§£æ”¾åŒºã€å›½æ°‘å…šæ¯ç¦å‡ºç‰ˆç‰©ã€‚
ChatNER >>>  éƒ‘æŒ¯é“_äººå
é˜¿è‹±_äººå
====================================================================================================
ç”¨æˆ· >>> ä½ å¥½ï¼Œä½ æ˜¯è°ï¼Ÿ
ChatNER >>>  æˆ‘æ˜¯ä¸€ä¸ªåä¸º ChatGLM-6B çš„äººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæ˜¯åŸºäºæ¸…åå¤§å­¦ KEG å®éªŒå®¤å’Œæ™ºè°± AI å…¬å¸äº 2023 å¹´å…±åŒè®­ç»ƒçš„è¯­è¨€æ¨¡å‹å¼€å‘çš„ã€‚æˆ‘çš„ä»»åŠ¡æ˜¯é’ˆå¯¹ç”¨æˆ·çš„é—®é¢˜å’Œè¦æ±‚æä¾›é€‚å½“çš„ç­”å¤å’Œæ”¯æŒã€‚
====================================================================================================
ç”¨æˆ· >>> è¯·å†™ä¸€ä¸ªå¿«é€Ÿæ’åºçš„ä»£ç 
ChatNER >>>  å¥½çš„ï¼Œä»¥ä¸‹æ˜¯ Python å®ç°çš„å¿«é€Ÿæ’åºä»£ç ï¼š

```python
def quicksort(arr):
    if len(arr) <= 1:
        return arr
    else:
        pivot = arr[0]
        left = []
        right = []
        for i in range(1, len(arr)):
            if arr[i] < pivot:
                left.append(arr[i])
            else:
                right.append(arr[i])
        return quicksort(left) + [pivot] + quicksort(right)
```
è¿™ä¸ªå®ç°ä½¿ç”¨äº†é€’å½’æ¥è¿›è¡Œå¿«é€Ÿæ’åºã€‚é¦–å…ˆï¼Œå¦‚æœæ•°ç»„é•¿åº¦å°äºç­‰äº 1ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›è¯¥æ•°ç»„ã€‚å¦åˆ™ï¼Œé€‰æ‹©æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ç‚¹(pivot)ï¼Œå¹¶å°†æ•´ä¸ªæ•°ç»„åˆ†ä¸ºå·¦å­æ•°ç»„å’Œå³å­æ•°ç»„ã€‚æ¥ä¸‹æ¥ï¼Œå¯¹å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„åˆ†åˆ«é€’å½’è°ƒç”¨ `quicksort` å‡½æ•°ï¼Œå¹¶å°†å®ƒä»¬æ‹¼æ¥èµ·æ¥è¿”å›ã€‚
====================================================================================================
````

åŸå§‹æ¨¡å‹ä¹Ÿå¹¶æ²¡æœ‰é€€åŒ–ã€‚

## æŠ¥é”™è§£å†³

- å®‰è£…mpi4pyæŠ¥é”™

```python
sudo apt-get update
sudo apt-get install openmpi-bin libopenmpi-dev
pip install mpi4py
```

# è¡¥å……

- **æ€ä¹ˆè®­ç»ƒè‡ªå·±çš„æ•°æ®ï¼Ÿ**
	æŒ‰ç…§instruct_dataä¸‹çš„æ•°æ®ç»“æ„æ„é€ æ•°æ®ï¼Œå®šä¹‰å¥½ç›¸å…³å‚æ•°è¿è¡Œå³å¯ã€‚
- **æ€ä¹ˆè¿›è¡Œé¢„æµ‹ï¼Ÿ**
	åœ¨test.pyä¸­ï¼Œé¢„æµ‹æ—¶å¯æ ¹æ®è‡ªå·±çš„ä»»åŠ¡è¿›è¡Œè§£ç ã€‚
- **ä¸ºä»€ä¹ˆä¸è¿›è¡Œè¯„ä»·æŒ‡æ ‡çš„è®¡ç®—ï¼Ÿ**
	åªæ˜¯ä½œäº†åˆæ­¥çš„è®­ç»ƒï¼Œéš¾å…æ•ˆæœä¸å¤ªå¥½å°±ä¸è¿›è¡Œè¯„ä»·æŒ‡æ ‡çš„è®¡ç®—äº†ï¼Œå¯ä»¥åœ¨test.pyé‡Œé¢è‡ªè¡Œå®šä¹‰ã€‚

# å‚è€ƒ

> [liucongg/ChatGLM-Finetuning: åŸºäºChatGLM-6Bæ¨¡å‹ï¼Œè¿›è¡Œä¸‹æ¸¸å…·ä½“ä»»åŠ¡å¾®è°ƒï¼Œæ¶‰åŠFreezeã€Loraã€P-tuningç­‰ (github.com)](https://github.com/liucongg/ChatGLM-Finetuning)
>
> [THUDM/ChatGLM-6B: ChatGLM-6B: An Open Bilingual Dialogue Language Model | å¼€æºåŒè¯­å¯¹è¯è¯­è¨€æ¨¡å‹ (github.com)](https://github.com/THUDM/ChatGLM-6B/projects?query=is%3Aopen)
>
> [huggingface/peft: ğŸ¤— PEFT: State-of-the-art Parameter-Efficient Fine-Tuning. (github.com)](https://github.com/huggingface/peft)
